<!DOCTYPE html><html lang="ru-RU"><head><title>JVM profiling in Kubernetes</title><meta property="og:title" content="JVM profiling in Kubernetes"><meta name="description" content="Профилирование JVM в Kubernetes"><meta property="og:description" content="Профилирование JVM в Kubernetes"><meta charset="UTF-8"><meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0"><meta name="apple-mobile-web-app-capable" content="yes"><meta http-equiv="X-UA-Compatible" content="ie=edge"><meta property="og:type" content="website"><meta name="twitter:card" content="summary"><style>.bespoke-marp-note,.bespoke-marp-osc,.bespoke-progress-parent{display:none;transition:none}@media screen{body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:0;color:inherit;cursor:pointer;font-size:inherit;opacity:.8;outline:none;padding:0;transition:opacity .2s linear;-webkit-tap-highlight-color:transparent}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:disabled,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:disabled,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:disabled{cursor:not-allowed;opacity:.15!important}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover{opacity:1}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:active,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:active,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover:active{opacity:.6}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:not(:disabled),body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:not(:disabled),body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover:not(:disabled){transition:none}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button.bespoke-marp-presenter-info-page-prev{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNNjggOTBMMjggNTBsNDAtNDAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button.bespoke-marp-presenter-info-page-next{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNMzIgOTBsNDAtNDAtNDAtNDAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen]{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6NXB4fTwvc3R5bGU+PC9kZWZzPjxyZWN0IGNsYXNzPSJhIiB4PSIxMCIgeT0iMjAiIHdpZHRoPSI4MCIgaGVpZ2h0PSI2MCIgcng9IjUuNjciLz48cGF0aCBjbGFzcz0iYSIgZD0iTTQwIDcwSDIwVjUwbTIwIDBMMjAgNzBtNDAtNDBoMjB2MjBtLTIwIDBsMjAtMjAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button.exit[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button.exit[data-bespoke-marp-osc=fullscreen]{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6NXB4fTwvc3R5bGU+PC9kZWZzPjxyZWN0IGNsYXNzPSJhIiB4PSIxMCIgeT0iMjAiIHdpZHRoPSI4MCIgaGVpZ2h0PSI2MCIgcng9IjUuNjciLz48cGF0aCBjbGFzcz0iYSIgZD0iTTIwIDUwaDIwdjIwbS0yMCAwbDIwLTIwbTQwIDBINjBWMzBtMjAgMEw2MCA1MCIvPjwvc3ZnPg==")}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter]{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS13aWR0aDo1cHh9PC9zdHlsZT48L2RlZnM+PHBhdGggY2xhc3M9ImEiIGQ9Ik0yMCA2MGgtNWE1IDUgMCAwMS01LTVWMjBhNSA1IDAgMDE1LTVoNjBhNSA1IDAgMDE1IDV2NU0zMCA4NWg2MCIvPjxyZWN0IHg9IjMwIiB5PSIzNSIgd2lkdGg9IjYwIiBoZWlnaHQ9IjQwIiByeD0iNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmIi8+PHJlY3QgY2xhc3M9ImEiIHg9IjMwIiB5PSIzNSIgd2lkdGg9IjYwIiBoZWlnaHQ9IjQwIiByeD0iNSIvPjxwYXRoIGNsYXNzPSJhIiBkPSJNNDAgNTBoNDBNNDAgNjBoMzAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body,html{height:100%;margin:0}body{background:#000;overflow:hidden}svg.bespoke-marp-slide{content-visibility:hidden;z-index:-1;pointer-events:none;opacity:0}svg.bespoke-marp-slide.bespoke-marp-active{content-visibility:visible;z-index:0;pointer-events:auto;opacity:1}svg.bespoke-marp-slide.bespoke-marp-active.bespoke-marp-active-ready *{-webkit-animation-name:__bespoke_marp__!important;animation-name:__bespoke_marp__!important}@supports not (content-visibility:hidden){svg.bespoke-marp-slide[data-bespoke-marp-load=hideable]{display:none}svg.bespoke-marp-slide[data-bespoke-marp-load=hideable].bespoke-marp-active{display:block}}[data-bespoke-marp-fragment=inactive]{visibility:hidden}body[data-bespoke-view=""] .bespoke-marp-parent,body[data-bespoke-view=next] .bespoke-marp-parent{bottom:0;left:0;position:absolute;right:0;top:0}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc{background:rgba(0,0,0,.65);border-radius:7px;bottom:50px;color:#fff;display:block;font-family:Helvetica,Arial,sans-serif;font-size:16px;left:50%;line-height:0;opacity:1;padding:12px;position:absolute;touch-action:manipulation;transform:translateX(-50%);transition:opacity .2s linear;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;z-index:1;will-change:transform}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>*,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>*{margin-left:6px}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>:first-child,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>:first-child{margin-left:0}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>span,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>span{opacity:.8}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>span[data-bespoke-marp-osc=page],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>span[data-bespoke-marp-osc=page]{display:inline-block;min-width:140px;text-align:center}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev]{height:32px;line-height:32px;width:32px}body[data-bespoke-view=""] .bespoke-marp-parent.bespoke-marp-inactive,body[data-bespoke-view=next] .bespoke-marp-parent.bespoke-marp-inactive{cursor:none}body[data-bespoke-view=""] .bespoke-marp-parent.bespoke-marp-inactive>.bespoke-marp-osc,body[data-bespoke-view=next] .bespoke-marp-parent.bespoke-marp-inactive>.bespoke-marp-osc{opacity:0;pointer-events:none}body[data-bespoke-view=""] svg.bespoke-marp-slide,body[data-bespoke-view=next] svg.bespoke-marp-slide{height:100%;left:0;position:absolute;top:0;width:100%}body[data-bespoke-view=""] .bespoke-progress-parent{background:#222;display:flex;height:5px;width:100%}body[data-bespoke-view=""] .bespoke-progress-parent+.bespoke-marp-parent{top:5px}body[data-bespoke-view=""] .bespoke-progress-parent .bespoke-progress-bar{flex:0 0 0;background:#0288d1;transition:flex-basis .2s cubic-bezier(0,1,1,1)}body[data-bespoke-view=next]{background:transparent}body[data-bespoke-view=presenter]{background:#161616}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container{font-family:Helvetica,Arial,sans-serif;height:100%;left:0;position:absolute;top:0;width:100%;display:grid;grid-template-columns:2fr 1fr;grid-template-rows:minmax(140px,1fr) 2fr 3em;grid-template-areas:"current next" "current note" "info    note"}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent{grid-area:current;position:relative;overflow:hidden}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent svg.bespoke-marp-slide{height:calc(100% - 40px);left:20px;position:absolute;pointer-events:none;top:20px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:calc(100% - 40px)}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent svg.bespoke-marp-slide.bespoke-marp-active{filter:drop-shadow(0 3px 10px rgba(0,0,0,.5))}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container{background:#222;cursor:pointer;display:none;grid-area:next;overflow:hidden;position:relative}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container.active{display:block}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container iframe.bespoke-marp-presenter-next{background:transparent;border:0;display:block;filter:drop-shadow(0 3px 10px rgba(0,0,0,.5));height:calc(100% - 40px);left:20px;position:absolute;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;top:20px;width:calc(100% - 40px)}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container{background:#222;color:#eee;grid-area:note}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note{margin:20px;width:calc(100% - 40px);height:calc(100% - 40px);box-sizing:border-box;font-size:1.1em;overflow:auto;padding-right:3px;white-space:pre-wrap;word-wrap:break-word;scrollbar-width:thin;scrollbar-color:hsla(0,0%,93.3%,.5) transparent}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar{width:6px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar-track{background:transparent}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar-thumb{background:hsla(0,0%,93.3%,.5);border-radius:6px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note:empty{pointer-events:none}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note.active{display:block}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note p:first-child{margin-top:0}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note p:last-child{margin-bottom:0}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container{align-items:center;box-sizing:border-box;color:#eee;display:flex;flex-wrap:nowrap;grid-area:info;justify-content:center;padding:0 10px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-time,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-timer{display:block;box-sizing:border-box;padding:0 10px;white-space:nowrap;width:100%}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button{height:1.5em;line-height:1.5em;width:1.5em}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page{order:2;text-align:center}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page .bespoke-marp-presenter-info-page-text{display:inline-block;min-width:120px;text-align:center}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-time{color:#999;order:1;text-align:left}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-timer{color:#999;order:3;text-align:right}}@media print{.bespoke-marp-presenter-info-container,.bespoke-marp-presenter-next-container,.bespoke-marp-presenter-note-container{display:none}}</style><style>@charset "UTF-8";@import url("https://fonts.googleapis.com/css?family=Roboto:400,700");@import url("https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/styles/github.min.css");div#p>svg>foreignObject>section{width:1280px;height:720px;box-sizing:border-box;overflow:hidden;position:relative;scroll-snap-align:center center}div#p>svg>foreignObject>section:after{bottom:0;content:attr(data-marpit-pagination);padding:inherit;pointer-events:none;position:absolute;right:0}div#p>svg>foreignObject>section:not([data-marpit-pagination]):after{display:none}/* Normalization */div#p>svg>foreignObject>section h1{font-size:2em;margin:0.67em 0}div#p>svg>foreignObject>section video::-webkit-media-controls{will-change:transform}@page{size:1280px 720px;margin:0}@media print{body,html{background-color:#fff;margin:0;page-break-inside:avoid;break-inside:avoid-page}div#p>svg>foreignObject>section{page-break-before:always;break-before:page}div#p>svg>foreignObject>section,div#p>svg>foreignObject>section *{-webkit-print-color-adjust:exact!important;animation-delay:0s!important;animation-duration:0s!important;color-adjust:exact!important;transition:none!important}div#p>svg[data-marpit-svg]{display:block;height:100vh;width:100vw}}div#p>svg>foreignObject>section svg[data-marp-fitting=svg]{display:block;height:auto;width:100%}@supports (-ms-ime-align:auto){div#p>svg>foreignObject>section svg[data-marp-fitting=svg]{position:static}}div#p>svg>foreignObject>section svg[data-marp-fitting=svg].__reflow__{content:""}@supports (-ms-ime-align:auto){div#p>svg>foreignObject>section svg[data-marp-fitting=svg].__reflow__{position:relative}}div#p>svg>foreignObject>section [data-marp-fitting-svg-content]{display:table;white-space:nowrap}div#p>svg>foreignObject>section [data-marp-fitting-svg-content-wrap]{white-space:pre}div#p>svg>foreignObject>section img[data-marp-twemoji]{background:transparent;height:1em;margin:0 .05em 0 .1em;vertical-align:-.1em;width:1em}
/*!
 * Marp / Marpit VTB theme.
 *
 * @theme vtb
 * @author Smirnov Viacheslav
 */div#p>svg>foreignObject>section{background-color:white;font-family:'Roboto';padding:0}div#p>svg>foreignObject>section.lead{}div#p>svg>foreignObject>section.lead1,div#p>svg>foreignObject>section.lead2,div#p>svg>foreignObject>section.lead5,div#p>svg>foreignObject>section.lead6,div#p>svg>foreignObject>section.lead9,div#p>svg>foreignObject>section.lead10,div#p>svg>foreignObject>section.lead11,div#p>svg>foreignObject>section.lead12,div#p>svg>foreignObject>section.lead13,div#p>svg>foreignObject>section.lead17,div#p>svg>foreignObject>section.lead18{padding:0;background-position:95% 10%,right bottom;background-repeat:no-repeat,no-repeat;background-size:15%,cover;background-origin:padding-box,border-box;color:white}div#p>svg>foreignObject>section.lead1 h1,div#p>svg>foreignObject>section.lead2 h1,div#p>svg>foreignObject>section.lead5 h1,div#p>svg>foreignObject>section.lead6 h1,div#p>svg>foreignObject>section.lead9 h1,div#p>svg>foreignObject>section.lead10 h1,div#p>svg>foreignObject>section.lead11 h1,div#p>svg>foreignObject>section.lead12 h1,div#p>svg>foreignObject>section.lead13 h1,div#p>svg>foreignObject>section.lead17 h1,div#p>svg>foreignObject>section.lead18 h1,div#p>svg>foreignObject>section h1{letter-spacing:1.1px;font-size:40pt;position:absolute;width:calc(522px - 54px);height:calc(190px - 20px);background:#002882;color:#fff;margin:0;z-index:3;padding:0;padding-left:54px;padding-top:20px;top:228px}div#p>svg>foreignObject>section.lead1 h1:after,div#p>svg>foreignObject>section.lead2 h1:after,div#p>svg>foreignObject>section.lead5 h1:after,div#p>svg>foreignObject>section.lead6 h1:after,div#p>svg>foreignObject>section.lead9 h1:after,div#p>svg>foreignObject>section.lead10 h1:after,div#p>svg>foreignObject>section.lead11 h1:after,div#p>svg>foreignObject>section.lead12 h1:after,div#p>svg>foreignObject>section.lead13 h1:after,div#p>svg>foreignObject>section.lead17 h1:after,div#p>svg>foreignObject>section.lead18 h1:after,div#p>svg>foreignObject>section h1:after{content:"";position:absolute;top:0;bottom:0;width:0;height:0;left:519px;border-top:190px solid #002882;border-right:69px solid transparent;border-left:2px solid #002882}div#p>svg>foreignObject>section.lead1 h1:before,div#p>svg>foreignObject>section.lead2 h1:before,div#p>svg>foreignObject>section.lead5 h1:before,div#p>svg>foreignObject>section.lead6 h1:before,div#p>svg>foreignObject>section.lead9 h1:before,div#p>svg>foreignObject>section.lead10 h1:before,div#p>svg>foreignObject>section.lead11 h1:before,div#p>svg>foreignObject>section.lead12 h1:before,div#p>svg>foreignObject>section.lead13 h1:before,div#p>svg>foreignObject>section.lead17 h1:before,div#p>svg>foreignObject>section.lead18 h1:before,div#p>svg>foreignObject>section h1:before{content:"";position:absolute;right:100%;bottom:0;left:calc(522px + 33px);width:6px;height:190px;transform:skew(-20deg);background:#00AAFF;overflow:hidden;z-index:-1}div#p>svg>foreignObject>section.lead1 h2,div#p>svg>foreignObject>section.lead2 h2,div#p>svg>foreignObject>section.lead5 h2,div#p>svg>foreignObject>section.lead6 h2,div#p>svg>foreignObject>section.lead9 h2,div#p>svg>foreignObject>section.lead10 h2,div#p>svg>foreignObject>section.lead11 h2,div#p>svg>foreignObject>section.lead12 h2,div#p>svg>foreignObject>section.lead13 h2,div#p>svg>foreignObject>section.lead17 h2,div#p>svg>foreignObject>section.lead18 h2{font-size:26pt;position:absolute;width:calc(498px - 54px);height:65px;background:#00AAFF;z-index:3;padding:0;margin:0;padding-left:54px;top:427px}div#p>svg>foreignObject>section.lead1 h2:after,div#p>svg>foreignObject>section.lead2 h2:after,div#p>svg>foreignObject>section.lead5 h2:after,div#p>svg>foreignObject>section.lead6 h2:after,div#p>svg>foreignObject>section.lead9 h2:after,div#p>svg>foreignObject>section.lead10 h2:after,div#p>svg>foreignObject>section.lead11 h2:after,div#p>svg>foreignObject>section.lead12 h2:after,div#p>svg>foreignObject>section.lead13 h2:after,div#p>svg>foreignObject>section.lead17 h2:after,div#p>svg>foreignObject>section.lead18 h2:after{content:"";position:absolute;top:0;bottom:0;width:0;height:0;left:496px;border-top:65px solid #00AAFF;border-right:23px solid transparent;border-left:2px solid #00AAFF}div#p>svg>foreignObject>section.lead1 h2:before,div#p>svg>foreignObject>section.lead2 h2:before,div#p>svg>foreignObject>section.lead5 h2:before,div#p>svg>foreignObject>section.lead6 h2:before,div#p>svg>foreignObject>section.lead9 h2:before,div#p>svg>foreignObject>section.lead10 h2:before,div#p>svg>foreignObject>section.lead11 h2:before,div#p>svg>foreignObject>section.lead12 h2:before,div#p>svg>foreignObject>section.lead13 h2:before,div#p>svg>foreignObject>section.lead17 h2:before,div#p>svg>foreignObject>section.lead18 h2:before{content:"";position:absolute;right:100%;bottom:0;left:calc(498px + 10px);width:6px;height:65px;transform:skew(-20deg);background:#00AAFF;opacity:40%;overflow:hidden;z-index:-1}div#p>svg>foreignObject>section.lead1 h2 strong,div#p>svg>foreignObject>section.lead2 h2 strong,div#p>svg>foreignObject>section.lead5 h2 strong,div#p>svg>foreignObject>section.lead6 h2 strong,div#p>svg>foreignObject>section.lead9 h2 strong,div#p>svg>foreignObject>section.lead10 h2 strong,div#p>svg>foreignObject>section.lead11 h2 strong,div#p>svg>foreignObject>section.lead12 h2 strong,div#p>svg>foreignObject>section.lead13 h2 strong,div#p>svg>foreignObject>section.lead17 h2 strong,div#p>svg>foreignObject>section.lead18 h2 strong{color:white;position:absolute;padding-top:10px}div#p>svg>foreignObject>section.lead1{background-image:url("themes/img/lead/logo.ligth.svg"),url("themes/img/lead/lead01.png")}div#p>svg>foreignObject>section.lead2{background-image:url("themes/img/lead/logo.ligth.svg"),url("themes/img/lead/lead02.jpeg")}div#p>svg>foreignObject>section.lead3{background-image:url("themes/img/lead/lead03.png")}div#p>svg>foreignObject>section.lead4{background-image:url("themes/img/lead/lead04.png")}div#p>svg>foreignObject>section.lead5{background-image:url("themes/img/lead/lead05.jpeg")}div#p>svg>foreignObject>section.lead6{background-image:url("themes/img/lead/logo.ligth.svg"),url("themes/img/lead/lead06.jpeg")}div#p>svg>foreignObject>section.lead7{background-image:url("themes/img/lead/lead07.jpeg")}div#p>svg>foreignObject>section.lead8{background-image:url("themes/img/lead/lead08.jpeg")}div#p>svg>foreignObject>section.lead9{background-image:url("themes/img/lead/logo.ligth.svg"),url("themes/img/lead/lead09.jpeg")}div#p>svg>foreignObject>section.lead10{background-image:url("themes/img/lead/logo.ligth.svg"),url("themes/img/lead/lead10.jpeg")}div#p>svg>foreignObject>section.lead11{background-image:url("themes/img/lead/logo.ligth.svg"),url("themes/img/lead/lead11.jpeg")}div#p>svg>foreignObject>section.lead12{background-image:url("themes/img/lead/logo.ligth.svg"),url("themes/img/lead/lead12.jpeg")}div#p>svg>foreignObject>section.lead13{background-image:url("themes/img/lead/logo.ligth.svg"),url("themes/img/lead/lead13.jpeg")}div#p>svg>foreignObject>section.lead14{background-image:url("themes/img/lead/lead14.jpeg")}div#p>svg>foreignObject>section.lead15{background-image:url("themes/img/lead/lead15.png")}div#p>svg>foreignObject>section.lead16{background-image:url("themes/img/lead/lead16.jpeg")}div#p>svg>foreignObject>section.lead17{background-image:url("themes/img/lead/logo.ligth.svg"),url("themes/img/lead/lead02.jpeg")}div#p>svg>foreignObject>section.lead18{background-image:url("themes/img/lead/logo.ligth.svg"),url("themes/img/lead/lead18.svg")}div#p>svg>foreignObject>section.lead19{background-image:url("themes/img/lead/lead19.png")}div#p>svg>foreignObject>section.lead20{background-image:url("themes/img/lead/lead20.jpeg")}div#p>svg>foreignObject>section.lead>:first-child{margin-top:0}div#p>svg>foreignObject>section{padding:0}

/*
section {
    background-color: white;
    color: #323232;
    font-size: 28px;
    line-height: 1.35;
    letter-spacing: 1.1px;
    padding: 70px;
    font-family: 'Roboto';
}
    section > *:first-child 
    {
      margin-top: -0.5em;
    }
    section strong {
      color: #00AAFF; 
    }
    section pre {
      display: block;
      margin: 1em 0 0 0;
      min-height: 1em;
      overflow: visible; }
      section pre code {
        box-sizing: border-box;
        margin: 0;
        min-width: 100%;
        padding: 0.5em;
        font-size: 0.7em;
        background-color: rgba(0, 0, 0, 0.1); }
    section code {
      display: inline-block;
      font-family: 'NasuM', 'Roboto Mono', monospace;
      font-size: 0.8em;
      letter-spacing: 0;
      margin: -0.1em 0.15em;
      padding: 0.1em 0.2em;
      vertical-align: baseline;
      background-color: rgba(0, 0, 0, 0.1); }
*/

/* Styling page number */div#p>svg>foreignObject>section:after{width:calc(121px - 65px);height:calc(39px - 12px);z-index:5;padding:0;position:absolute;font-weight:bold;color:white;background-image:url("themes/img/after.png");background-repeat:no-repeat;background-origin:initial;margin-bottom:5px;background-size:100%;padding-right:65px;padding-top:12px;font-size:14px;text-align:right}div#p>svg>foreignObject>section:after{--marpit-root-font-size:14px}div#p>svg>foreignObject>section[data-marpit-advanced-background=background]{display:block!important;padding:0!important}div#p>svg>foreignObject>section[data-marpit-advanced-background=background]:after,div#p>svg>foreignObject>section[data-marpit-advanced-background=background]:before,div#p>svg>foreignObject>section[data-marpit-advanced-background=content]:after,div#p>svg>foreignObject>section[data-marpit-advanced-background=content]:before{display:none!important}div#p>svg>foreignObject>section[data-marpit-advanced-background=background]>div[data-marpit-advanced-background-container]{all:initial;display:flex;flex-direction:row;height:100%;overflow:hidden;width:100%}div#p>svg>foreignObject>section[data-marpit-advanced-background=background]>div[data-marpit-advanced-background-container][data-marpit-advanced-background-direction=vertical]{flex-direction:column}div#p>svg>foreignObject>section[data-marpit-advanced-background=background][data-marpit-advanced-background-split]>div[data-marpit-advanced-background-container]{width:var(--marpit-advanced-background-split,50%)}div#p>svg>foreignObject>section[data-marpit-advanced-background=background][data-marpit-advanced-background-split=right]>div[data-marpit-advanced-background-container]{margin-left:calc(100% - var(--marpit-advanced-background-split, 50%))}div#p>svg>foreignObject>section[data-marpit-advanced-background=background]>div[data-marpit-advanced-background-container]>figure{all:initial;background-position:center;background-repeat:no-repeat;background-size:cover;flex:auto;margin:0}div#p>svg>foreignObject>section[data-marpit-advanced-background=content],div#p>svg>foreignObject>section[data-marpit-advanced-background=pseudo]{background:transparent!important}div#p>svg>foreignObject>section[data-marpit-advanced-background=pseudo],div#p>svg[data-marpit-svg]>foreignObject[data-marpit-advanced-background=pseudo]{pointer-events:none!important}div#p>svg>foreignObject>section[data-marpit-advanced-background-split]{width:100%;height:100%}</style></head><body><div class="bespoke-marp-osc"><button data-bespoke-marp-osc="prev" tabindex="-1" title="Previous slide">Previous slide</button><span data-bespoke-marp-osc="page"></span><button data-bespoke-marp-osc="next" tabindex="-1" title="Next slide">Next slide</button><button data-bespoke-marp-osc="fullscreen" tabindex="-1" title="Toggle fullscreen (f)">Toggle fullscreen</button><button data-bespoke-marp-osc="presenter" tabindex="-1" title="Open presenter view (p)">Open presenter view</button></div><div id="p"><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="1" data-class="lead2" data-theme="vtb" class="lead2" style="--class:lead2;--theme:vtb;">
<h1>Профилирование JVM в Kubernetes</h1>
<h2><strong>Смирнов Вячеслав, 2021</strong></h2>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-class="head" data-theme="vtb" class="head" data-marpit-pagination="2" data-marpit-pagination-total="66" style="--paginate:true;--class:head;--theme:vtb;" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;https://raw.githubusercontent.com/polarnik/Apache.JMeter.Benchmark.NG/master/docs/images/omsk.jpg&quot;);background-size:cover;"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="2" data-paginate="true" data-class="head" data-theme="vtb" class="head" data-marpit-pagination="2" data-marpit-pagination-total="66" style="--paginate:true;--class:head;--theme:vtb;" data-marpit-advanced-background="content">
<h1>Исследователь артефактов НТ</h1>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section class="head" style="" data-marpit-advanced-background="pseudo" data-marpit-pagination="2" data-marpit-pagination-total="66"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="3" data-paginate="true" data-footer="__1.__ Приветствие" data-theme="vtb" data-marpit-pagination="3" data-marpit-pagination-total="66" style="--paginate:true;--footer:__1.__ Приветствие;--theme:vtb;">
<h2>О себе</h2>
<footer><strong>1.</strong> Приветствие</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="4" data-paginate="true" data-footer="__1.__ Приветствие" data-theme="vtb" data-marpit-pagination="4" data-marpit-pagination-total="66" style="--paginate:true;--footer:__1.__ Приветствие;--theme:vtb;">
<h2>Об опыте профилирования JVM в Kubernetes</h2>
<footer><strong>1.</strong> Приветствие</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="5" data-paginate="true" data-theme="vtb" data-marpit-pagination="5" data-marpit-pagination-total="66" style="--paginate:true;--theme:vtb;">
<h1><strong>2.</strong> О JVM, Kubernetes и профилировании</h1>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="6" data-paginate="true" data-footer="__2.__ О JVM, Kubernetes и профилировании" data-theme="vtb" data-marpit-pagination="6" data-marpit-pagination-total="66" style="--paginate:true;--footer:__2.__ О JVM, Kubernetes и профилировании;--theme:vtb;">
<h2>JVM</h2>
<footer><strong>2.</strong> О JVM, Kubernetes и профилировании</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="7" data-paginate="true" data-footer="__2.__ О JVM, Kubernetes и профилировании" data-theme="vtb" data-marpit-pagination="7" data-marpit-pagination-total="66" style="--paginate:true;--footer:__2.__ О JVM, Kubernetes и профилировании;--theme:vtb;">
<h2>Kubernetes</h2>
<footer><strong>2.</strong> О JVM, Kubernetes и профилировании</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-footer="__2.__ О JVM, Kubernetes и профилировании" data-theme="vtb" data-marpit-pagination="8" data-marpit-pagination-total="66" style="--paginate:true;--footer:__2.__ О JVM, Kubernetes и профилировании;--theme:vtb;" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;img/hub.docker.com-u-fabric8.png&quot;);"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="8" data-paginate="true" data-footer="__2.__ О JVM, Kubernetes и профилировании" data-theme="vtb" data-marpit-pagination="8" data-marpit-pagination-total="66" style="--paginate:true;--footer:__2.__ О JVM, Kubernetes и профилировании;--theme:vtb;" data-marpit-advanced-background="content">
<h2>Docker</h2>
<footer><strong>2.</strong> О JVM, Kubernetes и профилировании</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section style="" data-marpit-advanced-background="pseudo" data-marpit-pagination="8" data-marpit-pagination-total="66"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-footer="__2.__ О JVM, Kubernetes и профилировании" data-theme="vtb" data-marpit-pagination="9" data-marpit-pagination-total="66" style="--paginate:true;--footer:__2.__ О JVM, Kubernetes и профилировании;--theme:vtb;" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;img/hub.docker.com-u-fabric8-images.png&quot;);"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="9" data-paginate="true" data-footer="__2.__ О JVM, Kubernetes и профилировании" data-theme="vtb" data-marpit-pagination="9" data-marpit-pagination-total="66" style="--paginate:true;--footer:__2.__ О JVM, Kubernetes и профилировании;--theme:vtb;" data-marpit-advanced-background="content">
<h2>Fabric8</h2>
<footer><strong>2.</strong> О JVM, Kubernetes и профилировании</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section style="" data-marpit-advanced-background="pseudo" data-marpit-pagination="9" data-marpit-pagination-total="66"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-footer="__2.__ О JVM, Kubernetes и профилировании" data-theme="vtb" data-marpit-pagination="10" data-marpit-pagination-total="66" style="--paginate:true;--footer:__2.__ О JVM, Kubernetes и профилировании;--theme:vtb;" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;img/hub.docker.com-u-fabric8-images-hl.png&quot;);"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="10" data-paginate="true" data-footer="__2.__ О JVM, Kubernetes и профилировании" data-theme="vtb" data-marpit-pagination="10" data-marpit-pagination-total="66" style="--paginate:true;--footer:__2.__ О JVM, Kubernetes и профилировании;--theme:vtb;" data-marpit-advanced-background="content">
<h2>Факторы</h2>
<h2>выбора</h2>
<footer><strong>2.</strong> О JVM, Kubernetes и профилировании</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section style="" data-marpit-advanced-background="pseudo" data-marpit-pagination="10" data-marpit-pagination-total="66"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-footer="__2.__ О JVM, Kubernetes и профилировании" data-theme="vtb" data-marpit-pagination="11" data-marpit-pagination-total="66" style="--paginate:true;--footer:__2.__ О JVM, Kubernetes и профилировании;--theme:vtb;" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;img/hub.docker.com-u-fabric8-images-hl2.png&quot;);"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="11" data-paginate="true" data-footer="__2.__ О JVM, Kubernetes и профилировании" data-theme="vtb" data-marpit-pagination="11" data-marpit-pagination-total="66" style="--paginate:true;--footer:__2.__ О JVM, Kubernetes и профилировании;--theme:vtb;" data-marpit-advanced-background="content"><footer><strong>2.</strong> О JVM, Kubernetes и профилировании</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section style="" data-marpit-advanced-background="pseudo" data-marpit-pagination="11" data-marpit-pagination-total="66"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-footer="__2.__ О JVM, Kubernetes и профилировании" data-theme="vtb" data-marpit-pagination="12" data-marpit-pagination-total="66" style="--paginate:true;--footer:__2.__ О JVM, Kubernetes и профилировании;--theme:vtb;" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;img/hub.docker.com-u-fabric8-images-hl2.png&quot;);filter:blur(10px);"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="12" data-paginate="true" data-footer="__2.__ О JVM, Kubernetes и профилировании" data-theme="vtb" data-marpit-pagination="12" data-marpit-pagination-total="66" style="--paginate:true;--footer:__2.__ О JVM, Kubernetes и профилировании;--theme:vtb;" data-marpit-advanced-background="content">
<h2>OpenJDK 8 или OpenJDK 11</h2>
<h2>Alpine или CentOS</h2>
<h2>JRE или JDK</h2>
<footer><strong>2.</strong> О JVM, Kubernetes и профилировании</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section style="" data-marpit-advanced-background="pseudo" data-marpit-pagination="12" data-marpit-pagination-total="66"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="13" data-paginate="true" data-footer="__2.__ О JVM, Kubernetes и профилировании" data-theme="vtb" data-marpit-pagination="13" data-marpit-pagination-total="66" style="--paginate:true;--footer:__2.__ О JVM, Kubernetes и профилировании;--theme:vtb;">
<h2>Самые популярные образы с OpenJDK</h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>OS</th>
<th>Ver</th>
<th>Dev?</th>
<th>Monitor</th>
<th>Hit</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://hub.docker.com/r/fabric8/s2i-java">s2i-java</a></td>
<td>CentOS</td>
<td>8/11</td>
<td>JRE</td>
<td>Jolokia</td>
<td>10M</td>
</tr>
<tr>
<td><a href="https://hub.docker.com/r/fabric8/java-centos-openjdk8-jre">java-centos-openjdk8-jre</a></td>
<td>CentOS</td>
<td>8</td>
<td>JRE</td>
<td>+Prom</td>
<td>100k</td>
</tr>
<tr>
<td><a href="https://hub.docker.com/r/fabric8/java-centos-openjdk8-jdk">java-centos-openjdk8-jdk</a></td>
<td>CentOS</td>
<td>8</td>
<td>JDK</td>
<td>+Prom</td>
<td>100k</td>
</tr>
<tr>
<td><a href="https://hub.docker.com/r/fabric8/java-alpine-openjdk8-jre">java-alpine-openjdk8-jre</a></td>
<td>Alpine</td>
<td>8</td>
<td>JRE</td>
<td>+Prom</td>
<td>100k</td>
</tr>
<tr>
<td><a href="https://hub.docker.com/r/fabric8/java-alpine-openjdk8-jdk">java-alpine-openjdk8-jdk</a></td>
<td>Alpine</td>
<td>8</td>
<td>JDK</td>
<td>+Prom</td>
<td>100k</td>
</tr>
<tr>
<td><a href="https://hub.docker.com/r/fabric8/java-alpine-openjdk11-jre">java-alpine-openjdk11-jre</a></td>
<td>Alpine</td>
<td>11</td>
<td>JRE</td>
<td>+Prom</td>
<td>100k</td>
</tr>
</tbody>
</table>
<footer><strong>2.</strong> О JVM, Kubernetes и профилировании</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="14" data-paginate="true" data-footer="__2.__ О JVM, Kubernetes и профилировании" data-theme="vtb" data-marpit-pagination="14" data-marpit-pagination-total="66" style="--paginate:true;--footer:__2.__ О JVM, Kubernetes и профилировании;--theme:vtb;">
<h2>Самое популярное окружение OpenJDK</h2>
<table>
<thead>
<tr>
<th></th>
<th>Первое место</th>
<th>Второе место</th>
</tr>
</thead>
<tbody>
<tr>
<td>Операционная систеа</td>
<td>CentOS</td>
<td>Alpine</td>
</tr>
<tr>
<td>Версия OpenJDK</td>
<td>8</td>
<td>11</td>
</tr>
<tr>
<td>Cредства разработки</td>
<td>JRE (нет dev tools)</td>
<td>JDK (есть dev tools)</td>
</tr>
<tr>
<td>Агент мониторинга</td>
<td>Jolokia</td>
<td>Agent Bond (Jolokia + Prometheus)</td>
</tr>
</tbody>
</table>
<footer><strong>2.</strong> О JVM, Kubernetes и профилировании</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="15" data-paginate="true" data-footer="__2.__ О JVM, Kubernetes и профилировании" data-theme="vtb" data-marpit-pagination="15" data-marpit-pagination-total="66" style="--paginate:true;--footer:__2.__ О JVM, Kubernetes и профилировании;--theme:vtb;">
<h2>Профилирование</h2>
<p>Профилирование - детальное изучение работы JVM с помощью профайлеров или встроенных механизмов JDK.</p>
<p>Выполнять его сложно, а анализировать результаты долго.</p>
<p>Поэтому оно нужно не всегда. И часто не нужно.</p>
<footer><strong>2.</strong> О JVM, Kubernetes и профилировании</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="16" data-marpit-fragments="6" data-paginate="true" data-footer="__2.__ О JVM, Kubernetes и профилировании" data-theme="vtb" data-marpit-pagination="16" data-marpit-pagination-total="66" style="--paginate:true;--footer:__2.__ О JVM, Kubernetes и профилировании;--theme:vtb;">
<h2>Профилирование в цикле тестирования</h2>
<ol>
<li data-marpit-fragment="1">Регрессионный тест производительности (JMeter/Gatling)</li>
<li data-marpit-fragment="2">Статистика по логам, детали по ERROR (Kibana/Grafana, grep)</li>
<li data-marpit-fragment="3">Мониторинг системных метрик (CPU, Memory, IO)</li>
<li data-marpit-fragment="4">Прикладной мониторинг (JVM MBean, SQL stat)</li>
<li data-marpit-fragment="5"><strong>Профилирование JVM</strong></li>
<li data-marpit-fragment="6">perf, strace, lsof, ...</li>
</ol>
<footer><strong>2.</strong> О JVM, Kubernetes и профилировании</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="17" data-paginate="true" data-footer="__2.__ О JVM, Kubernetes и профилировании" data-theme="vtb" data-marpit-pagination="17" data-marpit-pagination-total="66" style="--paginate:true;--footer:__2.__ О JVM, Kubernetes и профилировании;--theme:vtb;">
<h2>Профилирование в цикле тестирования</h2>
<ol>
<li>Регрессионный тест производительности (JMeter/Gatling)</li>
<li>Статистика по логам, детали по ERROR (Kibana/Grafana, grep)</li>
<li>Мониторинг системных метрик (CPU, Memory, IO)</li>
<li>Прикладной мониторинг (JVM MBean, SQL stat)</li>
<li><strong>Профилирование JVM</strong></li>
<li>perf, strace, lsof, ...</li>
</ol>
<p>Все это вместе расширенный <strong>USE Method</strong></p>
<footer><strong>2.</strong> О JVM, Kubernetes и профилировании</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="18" data-paginate="true" data-theme="vtb" data-marpit-pagination="18" data-marpit-pagination-total="66" style="--paginate:true;--theme:vtb;">
<h1><strong>3.</strong> О микросервисах на основе JVM и дефектах. Аналитика дефектов производительности по частоте и простоте обнаружения и исправления, визуальном проявлении и их мониторинге.</h1>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="19" data-paginate="true" data-footer="__3.__ О микросервисах на основе JVM и их дефектах" data-theme="vtb" data-marpit-pagination="19" data-marpit-pagination-total="66" style="--paginate:true;--footer:__3.__ О микросервисах на основе JVM и их дефектах;--theme:vtb;">
<h2>Микросервисы на основе JVM</h2>
<footer><strong>3.</strong> О микросервисах на основе JVM и их дефектах</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="20" data-marpit-fragments="3" data-paginate="true" data-footer="__3.__ О микросервисах на основе JVM и их дефектах" data-theme="vtb" data-marpit-pagination="20" data-marpit-pagination-total="66" style="--paginate:true;--footer:__3.__ О микросервисах на основе JVM и их дефектах;--theme:vtb;">
<h2>Дефекты производительности</h2>
<p>Если микросервис новый, то надо знать лишь <strong>ручку сервиса</strong>:</p>
<ul>
<li data-marpit-fragment="1">логи сервиса</li>
<li data-marpit-fragment="2">статистику о длительности работы метода</li>
<li data-marpit-fragment="3">результаты теста Apache.JMeter/Gatling с числами</li>
</ul>
<p>Разработчику не нужны результаты профилирования. Он и так знает о всех костылях и косяках, что сам заложил в прототип.</p>
<footer><strong>3.</strong> О микросервисах на основе JVM и их дефектах</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="21" data-marpit-fragments="7" data-paginate="true" data-footer="__3.__ О микросервисах на основе JVM и их дефектах" data-theme="vtb" data-marpit-pagination="21" data-marpit-pagination-total="66" style="--paginate:true;--footer:__3.__ О микросервисах на основе JVM и их дефектах;--theme:vtb;">
<h2>Дефекты производительности</h2>
<p>Если микросервис уже не новый, то надо больше данных:</p>
<ul>
<li data-marpit-fragment="1"><em>логи сервиса</em></li>
<li data-marpit-fragment="2"><em>статистику о длительности работы метода</em></li>
<li data-marpit-fragment="3"><em>результаты теста Apache.JMeter/Gatling с числами</em></li>
<li data-marpit-fragment="4">результаты мониторинга</li>
<li data-marpit-fragment="5"><strong>результаты профилирования</strong></li>
<li data-marpit-fragment="6">гипотезы, как исправить дефект</li>
<li data-marpit-fragment="7">результаты проверки гипотез, если возможно</li>
</ul>
<footer><strong>3.</strong> О микросервисах на основе JVM и их дефектах</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="22" data-marpit-fragments="8" data-paginate="true" data-footer="__3.__ О микросервисах на основе JVM и их дефектах" data-theme="vtb" data-marpit-pagination="22" data-marpit-pagination-total="66" style="--paginate:true;--footer:__3.__ О микросервисах на основе JVM и их дефектах;--theme:vtb;">
<h2>Дефекты производительности</h2>
<ul>
<li data-marpit-fragment="1">Медленный или частый SQL или HTTP-запрос</li>
<li data-marpit-fragment="2">Однопоточная обработка коллекции</li>
<li data-marpit-fragment="3">Активное выделение памяти</li>
<li data-marpit-fragment="4">Медленный файловый ввод-вывод</li>
<li data-marpit-fragment="5">Активная генерация исключений</li>
<li data-marpit-fragment="6">Утечка подключений или файлов</li>
<li data-marpit-fragment="7">Блокировки</li>
<li data-marpit-fragment="8">Неоптимальный алгоритм</li>
</ul>
<footer><strong>3.</strong> О микросервисах на основе JVM и их дефектах</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="23" data-marpit-fragments="8" data-paginate="true" data-footer="__3.__ О микросервисах на основе JVM и их дефектах" data-theme="vtb" data-marpit-pagination="23" data-marpit-pagination-total="66" style="--paginate:true;--footer:__3.__ О микросервисах на основе JVM и их дефектах;--theme:vtb;">
<h2>Медленный SQL-запрос</h2>
<ul>
<li data-marpit-fragment="1">в логах ошибки о долгих SQL-запросах</li>
<li data-marpit-fragment="2">в логах ошибки о нехватке подключений</li>
<li data-marpit-fragment="3">пул подключений используется высоко</li>
<li data-marpit-fragment="4">CPU Usage и Load Average на сервере БД высокий</li>
<li data-marpit-fragment="5">CPU Usage и Load Average на сервере приложений мал</li>
<li data-marpit-fragment="6">Total Time и Mean Time по запросу высокий</li>
<li data-marpit-fragment="7"><strong>в результатах профилирования</strong> ожидание получения ответа</li>
<li data-marpit-fragment="8">в трассировке видны типичные параметры запроса</li>
</ul>
<footer><strong>3.</strong> О микросервисах на основе JVM и их дефектах</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="24" data-marpit-fragments="3" data-paginate="true" data-footer="__3.__ О микросервисах на основе JVM и их дефектах" data-theme="vtb" data-marpit-pagination="24" data-marpit-pagination-total="66" style="--paginate:true;--footer:__3.__ О микросервисах на основе JVM и их дефектах;--theme:vtb;">
<h2>Медленный ответ на SQL-запрос</h2>
<p>Может проявляться только:</p>
<ul>
<li data-marpit-fragment="1">при больших объемах БД</li>
<li data-marpit-fragment="2">высокой интенсивности запросов</li>
<li data-marpit-fragment="3">при определенных значениях параметров запроса</li>
</ul>
<footer><strong>3.</strong> О микросервисах на основе JVM и их дефектах</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="25" data-marpit-fragments="7" data-paginate="true" data-footer="__3.__ О микросервисах на основе JVM и их дефектах" data-theme="vtb" data-marpit-pagination="25" data-marpit-pagination-total="66" style="--paginate:true;--footer:__3.__ О микросервисах на основе JVM и их дефектах;--theme:vtb;">
<h2>Частый SQL-запрос</h2>
<ul>
<li data-marpit-fragment="1">в логах ошибки о нехватке подключений к БД</li>
<li data-marpit-fragment="2">CPU Usage и Load Average на сервере БД низкий</li>
<li data-marpit-fragment="3">CPU Usage и Load Average на сервере приложений высокий</li>
<li data-marpit-fragment="4">Count по запросу высокий относительно основных запросов</li>
<li data-marpit-fragment="5">размер таблиц по запросу очень мал (до 1000 записей)</li>
<li data-marpit-fragment="6">в результатах профилирования <strong>ожидание получения ответа</strong></li>
<li data-marpit-fragment="7">и <strong>дисбаланс количества выполнений методов и SQL</strong></li>
</ul>
<footer><strong>3.</strong> О микросервисах на основе JVM и их дефектах</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="26" data-marpit-fragments="4" data-paginate="true" data-footer="__3.__ О микросервисах на основе JVM и их дефектах" data-theme="vtb" data-marpit-pagination="26" data-marpit-pagination-total="66" style="--paginate:true;--footer:__3.__ О микросервисах на основе JVM и их дефектах;--theme:vtb;">
<h2>Медленный ответ на HTTP-запрос</h2>
<ul>
<li data-marpit-fragment="1">в логах ошибки об HTTP Response TimeOut</li>
<li data-marpit-fragment="2">CPU Usage и Load Average на сервере приложений невысокий</li>
<li data-marpit-fragment="3">высокая длительность по запросу в Zipkin, Jaeger</li>
<li data-marpit-fragment="4">в результатах профилирования ожидание ответов на HTTP-запросы к другому сервису</li>
</ul>
<footer><strong>3.</strong> О микросервисах на основе JVM и их дефектах</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="27" data-marpit-fragments="7" data-paginate="true" data-footer="__3.__ О микросервисах на основе JVM и их дефектах" data-theme="vtb" data-marpit-pagination="27" data-marpit-pagination-total="66" style="--paginate:true;--footer:__3.__ О микросервисах на основе JVM и их дефектах;--theme:vtb;">
<h2>Частый HTTP-запрос</h2>
<ul>
<li data-marpit-fragment="1">в логах ошибки об HTTP Connection TimeOut</li>
<li data-marpit-fragment="2">CPU Usage и Load Average на сервере приложений высокие</li>
<li data-marpit-fragment="3">NetStat TCP Time Wait высокий</li>
<li data-marpit-fragment="4">высокая интенсивность по запросу в Zipkin, Jaeger</li>
<li data-marpit-fragment="5">в результатах профилирования <strong>ожидание подключения</strong></li>
<li data-marpit-fragment="6">и <strong>дисбаланс количества выполнений методов и HTTP</strong></li>
<li data-marpit-fragment="7">трассировка показывает повторяющиеся параметры запроса</li>
</ul>
<footer><strong>3.</strong> О микросервисах на основе JVM и их дефектах</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="28" data-paginate="true" data-footer="__3.__ О микросервисах на основе JVM и их дефектах" data-theme="vtb" data-marpit-pagination="28" data-marpit-pagination-total="66" style="--paginate:true;--footer:__3.__ О микросервисах на основе JVM и их дефектах;--theme:vtb;">
<h2>Однопоточная обработка коллекций</h2>
<footer><strong>3.</strong> О микросервисах на основе JVM и их дефектах</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="29" data-paginate="true" data-footer="__3.__ О микросервисах на основе JVM и их дефектах" data-theme="vtb" data-marpit-pagination="29" data-marpit-pagination-total="66" style="--paginate:true;--footer:__3.__ О микросервисах на основе JVM и их дефектах;--theme:vtb;">
<h2>Медленный файловый ввод-вывод</h2>
<footer><strong>3.</strong> О микросервисах на основе JVM и их дефектах</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="30" data-paginate="true" data-footer="__3.__ О микросервисах на основе JVM и их дефектах" data-theme="vtb" data-marpit-pagination="30" data-marpit-pagination-total="66" style="--paginate:true;--footer:__3.__ О микросервисах на основе JVM и их дефектах;--theme:vtb;">
<h2>Активное выделение памяти</h2>
<footer><strong>3.</strong> О микросервисах на основе JVM и их дефектах</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="31" data-paginate="true" data-footer="__3.__ О микросервисах на основе JVM и их дефектах" data-theme="vtb" data-marpit-pagination="31" data-marpit-pagination-total="66" style="--paginate:true;--footer:__3.__ О микросервисах на основе JVM и их дефектах;--theme:vtb;">
<h2>Утечка подключений или файлов</h2>
<footer><strong>3.</strong> О микросервисах на основе JVM и их дефектах</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="32" data-paginate="true" data-footer="__3.__ О микросервисах на основе JVM и их дефектах" data-theme="vtb" data-marpit-pagination="32" data-marpit-pagination-total="66" style="--paginate:true;--footer:__3.__ О микросервисах на основе JVM и их дефектах;--theme:vtb;">
<h2>Неоптимальный алгоритм</h2>
<footer><strong>3.</strong> О микросервисах на основе JVM и их дефектах</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="33" data-paginate="true" data-theme="vtb" data-marpit-pagination="33" data-marpit-pagination-total="66" style="--paginate:true;--theme:vtb;">
<h1><strong>4.</strong> Об инструментах профилирования JVM, которые использовал в работе. Их возможностях.</h1>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="34" data-marpit-fragments="7" data-paginate="true" data-footer="__4.__ Об инструментах профилирования JVM" data-theme="vtb" data-marpit-pagination="34" data-marpit-pagination-total="66" style="--paginate:true;--footer:__4.__ Об инструментах профилирования JVM;--theme:vtb;">
<h2>Инструменты профилирования JVM</h2>
<ul>
<li data-marpit-fragment="1">SJK</li>
<li data-marpit-fragment="2">AsyncProfiler</li>
<li data-marpit-fragment="3">Java Flight Recorder и JMC</li>
<li data-marpit-fragment="4">JVisualVM</li>
<li data-marpit-fragment="5">JProfiler</li>
<li data-marpit-fragment="6">YourKit Java Profiler</li>
<li data-marpit-fragment="7">NewRelic Java performance monitoring</li>
</ul>
<footer><strong>4.</strong> Об инструментах профилирования JVM</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="35" data-paginate="true" data-footer="__4.__ Об инструментах профилирования JVM" data-theme="vtb" data-marpit-pagination="35" data-marpit-pagination-total="66" style="--paginate:true;--footer:__4.__ Об инструментах профилирования JVM;--theme:vtb;">
<h2>SJK</h2>
<footer><strong>4.</strong> Об инструментах профилирования JVM</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="36" data-paginate="true" data-footer="__4.__ Об инструментах профилирования JVM" data-theme="vtb" data-marpit-pagination="36" data-marpit-pagination-total="66" style="--paginate:true;--footer:__4.__ Об инструментах профилирования JVM;--theme:vtb;">
<h2>AsyncProfiler</h2>
<footer><strong>4.</strong> Об инструментах профилирования JVM</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="37" data-paginate="true" data-footer="__4.__ Об инструментах профилирования JVM" data-theme="vtb" data-marpit-pagination="37" data-marpit-pagination-total="66" style="--paginate:true;--footer:__4.__ Об инструментах профилирования JVM;--theme:vtb;">
<h2>Java Flight Recorder и JMC</h2>
<footer><strong>4.</strong> Об инструментах профилирования JVM</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="38" data-paginate="true" data-footer="__4.__ Об инструментах профилирования JVM" data-theme="vtb" data-marpit-pagination="38" data-marpit-pagination-total="66" style="--paginate:true;--footer:__4.__ Об инструментах профилирования JVM;--theme:vtb;">
<h2>JVisualVM</h2>
<footer><strong>4.</strong> Об инструментах профилирования JVM</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="39" data-paginate="true" data-footer="__4.__ Об инструментах профилирования JVM" data-theme="vtb" data-marpit-pagination="39" data-marpit-pagination-total="66" style="--paginate:true;--footer:__4.__ Об инструментах профилирования JVM;--theme:vtb;">
<h2>JProfiler</h2>
<footer><strong>4.</strong> Об инструментах профилирования JVM</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="40" data-paginate="true" data-footer="__4.__ Об инструментах профилирования JVM" data-theme="vtb" data-marpit-pagination="40" data-marpit-pagination-total="66" style="--paginate:true;--footer:__4.__ Об инструментах профилирования JVM;--theme:vtb;">
<h2>YourKit Java Profiler</h2>
<footer><strong>4.</strong> Об инструментах профилирования JVM</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="41" data-paginate="true" data-footer="__4.__ Об инструментах профилирования JVM" data-theme="vtb" data-marpit-pagination="41" data-marpit-pagination-total="66" style="--paginate:true;--footer:__4.__ Об инструментах профилирования JVM;--theme:vtb;">
<h2>NewRelic Java performance monitoring</h2>
<footer><strong>4.</strong> Об инструментах профилирования JVM</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="42" data-paginate="true" data-theme="vtb" data-marpit-pagination="42" data-marpit-pagination-total="66" style="--paginate:true;--theme:vtb;">
<h1><strong>5.</strong> Классификация возможностей (плюсов) и минусов инструментов</h1>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="43" data-paginate="true" data-footer="__5.__ Классификация возможностей (плюсов) и минусов инструментов" data-theme="vtb" data-marpit-pagination="43" data-marpit-pagination-total="66" style="--paginate:true;--footer:__5.__ Классификация возможностей (плюсов) и минусов инструментов;--theme:vtb;">
<h2>Консольный режим работы</h2>
<footer><strong>5.</strong> Классификация возможностей (плюсов) и минусов инструментов</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="44" data-paginate="true" data-footer="__5.__ Классификация возможностей (плюсов) и минусов инструментов" data-theme="vtb" data-marpit-pagination="44" data-marpit-pagination-total="66" style="--paginate:true;--footer:__5.__ Классификация возможностей (плюсов) и минусов инструментов;--theme:vtb;">
<h2>Профилирование кода сеплированием</h2>
<footer><strong>5.</strong> Классификация возможностей (плюсов) и минусов инструментов</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="45" data-paginate="true" data-footer="__5.__ Классификация возможностей (плюсов) и минусов инструментов" data-theme="vtb" data-marpit-pagination="45" data-marpit-pagination-total="66" style="--paginate:true;--footer:__5.__ Классификация возможностей (плюсов) и минусов инструментов;--theme:vtb;">
<h2>Профилирование кода инструментацией</h2>
<footer><strong>5.</strong> Классификация возможностей (плюсов) и минусов инструментов</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="46" data-paginate="true" data-footer="__5.__ Классификация возможностей (плюсов) и минусов инструментов" data-theme="vtb" data-marpit-pagination="46" data-marpit-pagination-total="66" style="--paginate:true;--footer:__5.__ Классификация возможностей (плюсов) и минусов инструментов;--theme:vtb;">
<h2>Статистика по памяти</h2>
<footer><strong>5.</strong> Классификация возможностей (плюсов) и минусов инструментов</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="47" data-paginate="true" data-footer="__5.__ Классификация возможностей (плюсов) и минусов инструментов" data-theme="vtb" data-marpit-pagination="47" data-marpit-pagination-total="66" style="--paginate:true;--footer:__5.__ Классификация возможностей (плюсов) и минусов инструментов;--theme:vtb;">
<h2>Статистика по памяти</h2>
<footer><strong>5.</strong> Классификация возможностей (плюсов) и минусов инструментов</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="48" data-paginate="true" data-theme="vtb" data-marpit-pagination="48" data-marpit-pagination-total="66" style="--paginate:true;--theme:vtb;">
<h1><strong>6.</strong> Дефекты, которые легко найти с инструментами профилирования.</h1>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="49" data-paginate="true" data-theme="vtb" data-marpit-pagination="49" data-marpit-pagination-total="66" style="--paginate:true;--theme:vtb;">
<h1><strong>7.</strong> Дефекты, которые легче найти без инструментов профилирования.</h1>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="50" data-paginate="true" data-theme="vtb" data-marpit-pagination="50" data-marpit-pagination-total="66" style="--paginate:true;--theme:vtb;">
<h1><strong>8.</strong> Особенности профилирования JVM в Kubernetes: что особенного в добавлении профайлера в контейнер, включении профилирования, получении результатов</h1>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="51" data-paginate="true" data-footer="__8.__ Особенности профилирования JVM в Kubernetes" data-theme="vtb" data-marpit-pagination="51" data-marpit-pagination-total="66" style="--paginate:true;--footer:__8.__ Особенности профилирования JVM в Kubernetes;--theme:vtb;">
<h2>Рабочее место и CI/CD в 2021-м году</h2>
<footer><strong>8.</strong> Особенности профилирования JVM в Kubernetes</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="52" data-paginate="true" data-footer="__8.__ Особенности профилирования JVM в Kubernetes" data-theme="vtb" data-marpit-pagination="52" data-marpit-pagination-total="66" style="--paginate:true;--footer:__8.__ Особенности профилирования JVM в Kubernetes;--theme:vtb;">
<h2>Kubernetes и автоматизация</h2>
<footer><strong>8.</strong> Особенности профилирования JVM в Kubernetes</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="53" data-marpit-fragments="8" data-paginate="true" data-footer="__8.__ Особенности профилирования JVM в Kubernetes" data-theme="vtb" data-marpit-pagination="53" data-marpit-pagination-total="66" style="--paginate:true;--footer:__8.__ Особенности профилирования JVM в Kubernetes;--theme:vtb;">
<h2>Задачи по настройке профилирования</h2>
<ul>
<li data-marpit-fragment="1">примонтировать каталог с javaagent в поды</li>
<li data-marpit-fragment="2">поменять JAVA_OPTIONS
<ul>
<li data-marpit-fragment="3">добавить javaagent</li>
<li data-marpit-fragment="4">открыть JMX/RMI Port</li>
<li data-marpit-fragment="5">активировать Java Fligth Recorder</li>
<li data-marpit-fragment="6">задать параметры профилирования</li>
</ul>
</li>
<li data-marpit-fragment="7">поменять JAVA_OPTIONS на лету с jcmd и другими утилитами</li>
<li data-marpit-fragment="8">пробросить порт до javaagent/JMX/RMI</li>
</ul>
<footer><strong>8.</strong> Особенности профилирования JVM в Kubernetes</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="54" data-marpit-fragments="6" data-paginate="true" data-footer="__8.__ Особенности профилирования JVM в Kubernetes" data-theme="vtb" data-marpit-pagination="54" data-marpit-pagination-total="66" style="--paginate:true;--footer:__8.__ Особенности профилирования JVM в Kubernetes;--theme:vtb;">
<h2>Задачи по анализу результатов</h2>
<ul>
<li data-marpit-fragment="1">скачать и сохранить результаты профилирования</li>
<li data-marpit-fragment="2">анализ потоков</li>
<li data-marpit-fragment="3">фильтрация по потокам и методам</li>
<li data-marpit-fragment="4">анализ стек-трейсов</li>
<li data-marpit-fragment="5">анализ SQL и HTTP-запросов</li>
<li data-marpit-fragment="6">анализ исключений</li>
</ul>
<footer><strong>8.</strong> Особенности профилирования JVM в Kubernetes</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="55" data-paginate="true" data-theme="vtb" data-marpit-pagination="55" data-marpit-pagination-total="66" style="--paginate:true;--theme:vtb;">
<h1><strong>9.</strong> Рецепт профилирования с SJK</h1>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="56" data-paginate="true" data-theme="vtb" data-marpit-pagination="56" data-marpit-pagination-total="66" style="--paginate:true;--theme:vtb;">
<h1><strong>10.</strong> Рецепт профилирования с AsyncProfiler</h1>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="57" data-paginate="true" data-theme="vtb" data-marpit-pagination="57" data-marpit-pagination-total="66" style="--paginate:true;--theme:vtb;">
<h1><strong>11.</strong> Рецепт профилирования с JVisualVM</h1>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="58" data-paginate="true" data-theme="vtb" data-marpit-pagination="58" data-marpit-pagination-total="66" style="--paginate:true;--theme:vtb;">
<h1><strong>12.</strong> Рецепт профилирования с Java Flight Recorder и JMC</h1>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="59" data-paginate="true" data-theme="vtb" data-marpit-pagination="59" data-marpit-pagination-total="66" style="--paginate:true;--theme:vtb;">
<h1><strong>13.</strong> Рецепт профилирования с JProfiler</h1>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="60" data-paginate="true" data-theme="vtb" data-marpit-pagination="60" data-marpit-pagination-total="66" style="--paginate:true;--theme:vtb;">
<h1><strong>14.</strong> Рецепт профилирования с YourKit Java Profiler</h1>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="61" data-paginate="true" data-theme="vtb" data-marpit-pagination="61" data-marpit-pagination-total="66" style="--paginate:true;--theme:vtb;">
<h1><strong>15.</strong> Рецепт профилирования с NewRelic Java performance monitoring</h1>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="62" data-paginate="true" data-theme="vtb" data-marpit-pagination="62" data-marpit-pagination-total="66" style="--paginate:true;--theme:vtb;">
<h1><strong>16.</strong> Выводы</h1>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="63" data-paginate="true" data-theme="vtb" data-marpit-pagination="63" data-marpit-pagination-total="66" style="--paginate:true;--theme:vtb;">
<h1><strong>17.</strong> Что почитать</h1>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="64" data-paginate="true" data-theme="vtb" data-marpit-pagination="64" data-marpit-pagination-total="66" style="--paginate:true;--theme:vtb;">
<h1><strong>18.</strong> Что попробовать</h1>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="65" data-paginate="true" data-theme="vtb" data-marpit-pagination="65" data-marpit-pagination-total="66" style="--paginate:true;--theme:vtb;">
<h1><strong>19.</strong> Что не было рассказано</h1>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="66" data-paginate="true" data-theme="vtb" data-marpit-pagination="66" data-marpit-pagination-total="66" style="--paginate:true;--theme:vtb;">
<h1>Вопросы</h1>
</section>
<script>!function(){"use strict";const t="marpitSVGPolyfill:setZoomFactor,",e=Symbol();let r,o;function n(n){const i="object"==typeof n&&n.target||document,a="object"==typeof n?n.zoom:n;window[e]||(Object.defineProperty(window,e,{configurable:!0,value:!0}),window.addEventListener("message",(({data:e,origin:r})=>{if(r===window.origin)try{if(e&&"string"==typeof e&&e.startsWith(t)){const[,t]=e.split(","),r=Number.parseFloat(t);Number.isNaN(r)||(o=r)}}catch(t){console.error(t)}})));let l=!1;Array.from(i.querySelectorAll("svg[data-marpit-svg]"),(t=>{var e,n,i,s;t.style.transform||(t.style.transform="translateZ(0)");const c=a||o||t.currentScale||1;r!==c&&(r=c,l=c);const d=t.getBoundingClientRect(),{length:u}=t.children;for(let r=0;r<u;r+=1){const o=t.children[r],a=o.getScreenCTM();if(a){const t=null!==(n=null===(e=o.x)||void 0===e?void 0:e.baseVal.value)&&void 0!==n?n:0,r=null!==(s=null===(i=o.y)||void 0===i?void 0:i.baseVal.value)&&void 0!==s?s:0,l=o.firstElementChild,{style:u}=l;u.transformOrigin||(u.transformOrigin=`${-t}px ${-r}px`),u.transform=`scale(${c}) matrix(${a.a}, ${a.b}, ${a.c}, ${a.d}, ${a.e-d.left}, ${a.f-d.top}) translateZ(0.0001px)`}}})),!1!==l&&Array.from(i.querySelectorAll("iframe"),(({contentWindow:e})=>{null==e||e.postMessage(`${t}${l}`,"null"===window.origin?"*":window.origin)}))}r=1,o=void 0;const i=(t,e,r)=>{if(t.getAttribute(e)!==r)return t.setAttribute(e,r),!0};function a({once:t=!1,target:e=document}={}){const r="Apple Computer, Inc."===navigator.vendor?[n]:[];let o=!t;const a=()=>{for(const t of r)t({target:e});!function(t=document){Array.from(t.querySelectorAll('svg[data-marp-fitting="svg"]'),(t=>{var e;const r=t.firstChild,o=r.firstChild,{scrollWidth:n,scrollHeight:a}=o;let l,s=1;if(t.hasAttribute("data-marp-fitting-code")&&(l=null===(e=t.parentElement)||void 0===e?void 0:e.parentElement),t.hasAttribute("data-marp-fitting-math")&&(l=t.parentElement),l){const t=getComputedStyle(l),e=Math.ceil(l.clientWidth-parseFloat(t.paddingLeft||"0")-parseFloat(t.paddingRight||"0"));e&&(s=e)}const c=Math.max(n,s),d=Math.max(a,1),u=`0 0 ${c} ${d}`;i(r,"width",`${c}`),i(r,"height",`${d}`),i(t,"preserveAspectRatio",getComputedStyle(t).getPropertyValue("--preserve-aspect-ratio")||"xMinYMin meet"),i(t,"viewBox",u)&&t.classList.toggle("__reflow__")}))}(e),o&&window.requestAnimationFrame(a)};return a(),()=>{o=!1}}const l=Symbol(),s=document.currentScript;((t=document)=>{if("undefined"==typeof window)throw new Error("Marp Core's browser script is valid only in browser context.");if(t[l])return t[l];const e=a({target:t}),r=()=>{e(),delete t[l]};Object.defineProperty(t,l,{configurable:!0,value:r})})(s?s.getRootNode():document)}();
</script></foreignObject></svg></div><script>!function(){"use strict";var e=function(e,t){var n,r=1===(e.parent||e).nodeType?e.parent||e:document.querySelector(e.parent||e),s=[].filter.call("string"==typeof e.slides?r.querySelectorAll(e.slides):e.slides||r.children,(function(e){return"SCRIPT"!==e.nodeName})),a={},i=function(e,t){return(t=t||{}).index=s.indexOf(e),t.slide=e,t},o=function(e,t){a[e]=(a[e]||[]).filter((function(e){return e!==t}))},l=function(e,t){return(a[e]||[]).reduce((function(e,n){return e&&!1!==n(t)}),!0)},c=function(e,t){s[e]&&(n&&l("deactivate",i(n,t)),n=s[e],l("activate",i(n,t)))},d=function(e,t){var r=s.indexOf(n)+e;l(e>0?"next":"prev",i(n,t))&&c(r,t)},u={off:o,on:function(e,t){return(a[e]||(a[e]=[])).push(t),o.bind(null,e,t)},fire:l,slide:function(e,t){if(!arguments.length)return s.indexOf(n);l("slide",i(s[e],t))&&c(e,t)},next:d.bind(null,1),prev:d.bind(null,-1),parent:r,slides:s,destroy:function(e){l("destroy",i(n,e)),a={}}};return(t||[]).forEach((function(e){e(u)})),n||c(0),u};function t(e){e.parent.classList.add("bespoke-marp-parent"),e.slides.forEach((e=>e.classList.add("bespoke-marp-slide"))),e.on("activate",(t=>{const n=t.slide,r=!n.classList.contains("bespoke-marp-active");e.slides.forEach((e=>{e.classList.remove("bespoke-marp-active"),e.setAttribute("aria-hidden","true")})),n.classList.add("bespoke-marp-active"),n.removeAttribute("aria-hidden"),r&&(n.classList.add("bespoke-marp-active-ready"),document.body.clientHeight,n.classList.remove("bespoke-marp-active-ready"))}))}function n(e){let t=0,n=0;Object.defineProperty(e,"fragments",{enumerable:!0,value:e.slides.map((e=>[null,...e.querySelectorAll("[data-marpit-fragment]")]))});const r=r=>void 0!==e.fragments[t][n+r],s=(r,s)=>{t=r,n=s,e.fragments.forEach(((e,t)=>{e.forEach(((e,n)=>{if(null==e)return;const a=t<r||t===r&&n<=s;e.setAttribute("data-bespoke-marp-fragment",a?"active":"inactive"),t===r&&n===s?e.setAttribute("data-bespoke-marp-current-fragment","current"):e.removeAttribute("data-bespoke-marp-current-fragment")}))})),e.fragmentIndex=s;const a={slide:e.slides[r],index:r,fragments:e.fragments[r],fragmentIndex:s};e.fire("fragment",a)};e.on("next",(({fragment:a=!0})=>{if(a){if(r(1))return s(t,n+1),!1;const a=t+1;e.fragments[a]&&s(a,0)}else{const r=e.fragments[t].length;if(n+1<r)return s(t,r-1),!1;const a=e.fragments[t+1];a&&s(t+1,a.length-1)}})),e.on("prev",(({fragment:a=!0})=>{if(r(-1)&&a)return s(t,n-1),!1;const i=t-1;e.fragments[i]&&s(i,e.fragments[i].length-1)})),e.on("slide",(({index:t,fragment:n})=>{let r=0;if(void 0!==n){const s=e.fragments[t];if(s){const{length:e}=s;r=-1===n?e-1:Math.min(Math.max(n,0),e-1)}}s(t,r)})),s(0,0)}
/*!
* screenfull
* v5.1.0 - 2020-12-24
* (c) Sindre Sorhus; MIT License
*/
var r,s=(function(e){!function(){var t="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=e.exports,r=function(){for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,s=n.length,a={};r<s;r++)if((e=n[r])&&e[1]in t){for(r=0;r<e.length;r++)a[n[0][r]]=e[r];return a}return!1}(),s={change:r.fullscreenchange,error:r.fullscreenerror},a={request:function(e,n){return new Promise(function(s,a){var i=function(){this.off("change",i),s()}.bind(this);this.on("change",i);var o=(e=e||t.documentElement)[r.requestFullscreen](n);o instanceof Promise&&o.then(i).catch(a)}.bind(this))},exit:function(){return new Promise(function(e,n){if(this.isFullscreen){var s=function(){this.off("change",s),e()}.bind(this);this.on("change",s);var a=t[r.exitFullscreen]();a instanceof Promise&&a.then(s).catch(n)}else e()}.bind(this))},toggle:function(e,t){return this.isFullscreen?this.exit():this.request(e,t)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,n){var r=s[e];r&&t.addEventListener(r,n,!1)},off:function(e,n){var r=s[e];r&&t.removeEventListener(r,n,!1)},raw:r};r?(Object.defineProperties(a,{isFullscreen:{get:function(){return Boolean(t[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(t[r.fullscreenEnabled])}}}),n?e.exports=a:window.screenfull=a):n?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}()}(r={exports:{}},r.exports),r.exports);function a(e){e.fullscreen=()=>{s.isEnabled&&s.toggle(document.body)},document.addEventListener("keydown",(t=>{70!==t.which&&122!==t.which||t.altKey||t.ctrlKey||t.metaKey||!s.isEnabled||(e.fullscreen(),t.preventDefault())}))}function i(e=2e3){return t=>{let n;function r(){n&&clearTimeout(n),n=setTimeout((()=>{t.parent.classList.add("bespoke-marp-inactive"),t.fire("marp-inactive")}),e),t.parent.classList.contains("bespoke-marp-inactive")&&(t.parent.classList.remove("bespoke-marp-inactive"),t.fire("marp-active"))}document.addEventListener("mousedown",r),document.addEventListener("mousemove",r),document.addEventListener("touchend",r),setTimeout(r,0)}}const o=["AUDIO","BUTTON","INPUT","SELECT","TEXTAREA","VIDEO"];function l(e){e.parent.addEventListener("keydown",(e=>{if(!e.target)return;const t=e.target;(o.includes(t.nodeName)||"true"===t.contentEditable)&&e.stopPropagation()}))}function c(e){window.addEventListener("load",(()=>{for(const t of e.slides){const e=t.querySelector("[data-marp-fitting]")?"":"hideable";t.setAttribute("data-bespoke-marp-load",e)}}))}var d;function u({interval:e=200}={}){return t=>{document.addEventListener("keydown",(e=>{if(32===e.which&&e.shiftKey)t.prev();else if(33===e.which||37===e.which||38===e.which)t.prev({fragment:!e.shiftKey});else if(32!==e.which||e.shiftKey)if(34===e.which||39===e.which||40===e.which)t.next({fragment:!e.shiftKey});else if(35===e.which)t.slide(t.slides.length-1,{fragment:-1});else{if(36!==e.which)return;t.slide(0)}else t.next();e.preventDefault()}));let n,r,s=0;t.parent.addEventListener("wheel",(a=>{let i=!1;const o=(e,t)=>{e&&(i=i||function(e,t){return function(e,t){const n=t===d.X?"Width":"Height";return e[`client${n}`]<e[`scroll${n}`]}(e,t)&&function(e,t){const{overflow:n}=e,r=e[`overflow${t}`];return"auto"===n||"scroll"===n||"auto"===r||"scroll"===r}(getComputedStyle(e),t)}(e,t)),(null==e?void 0:e.parentElement)&&o(e.parentElement,t)};if(0!==a.deltaX&&o(a.target,d.X),0!==a.deltaY&&o(a.target,d.Y),i)return;a.preventDefault(),r&&clearTimeout(r),r=setTimeout((()=>{n=0}),e);const l=Date.now()-s<e,c=Math.sqrt(Math.pow(a.deltaX,2)+Math.pow(a.deltaY,2)),u=c<=n;if(n=c,l||u)return;let f;(a.deltaX>0||a.deltaY>0)&&(f="next"),(a.deltaX<0||a.deltaY<0)&&(f="prev"),f&&(t[f](),s=Date.now())}))}}!function(e){e.X="X",e.Y="Y"}(d||(d={}));const f=(...e)=>history.replaceState(...e),m="data-bespoke-view";var p;!function(e){e.Normal="",e.Presenter="presenter",e.Next="next"}(p||(p={}));const h=(e,{protocol:t,host:n,pathname:r,hash:s}=location)=>{const a=e.toString();return`${t}//${n}${r}${a?"?":""}${a}${s}`},g=()=>{switch(document.body.getAttribute(m)){case p.Normal:return p.Normal;case p.Presenter:return p.Presenter;case p.Next:return p.Next;default:throw new Error("View mode is not assigned.")}},v=e=>new URLSearchParams(location.search).get(e),b=(e,t={})=>{const n=Object.assign({location:location,setter:f},t),r=new URLSearchParams(n.location.search);for(const t of Object.keys(e)){const n=e[t];"string"==typeof n?r.set(t,n):r.delete(t)}try{n.setter(null,document.title,h(r,n.location))}catch(e){console.error(e)}},w={available:(()=>{try{return localStorage.setItem("bespoke-marp","bespoke-marp"),localStorage.removeItem("bespoke-marp"),!0}catch(e){return console.warn("Warning: Using localStorage is restricted in the current host so some features may not work."),!1}})(),get:e=>{try{return localStorage.getItem(e)}catch(e){return null}},set:(e,t)=>{try{return localStorage.setItem(e,t),!0}catch(e){return!1}},remove:e=>{try{return localStorage.removeItem(e),!0}catch(e){return!1}}};function y(e=".bespoke-marp-osc"){const t=document.querySelector(e);if(!t)return()=>{};const n=(e,n)=>{t.querySelectorAll(`[data-bespoke-marp-osc=${JSON.stringify(e)}]`).forEach(n)};return s.isEnabled||n("fullscreen",(e=>e.style.display="none")),w.available||n("presenter",(e=>{e.disabled=!0,e.title="Presenter view is disabled due to restricted localStorage."})),e=>{t.addEventListener("click",(t=>{if(t.target instanceof HTMLElement){const{bespokeMarpOsc:n}=t.target.dataset;switch(n&&t.target.blur(),n){case"next":e.next({fragment:!t.shiftKey});break;case"prev":e.prev({fragment:!t.shiftKey});break;case"fullscreen":"function"==typeof e.fullscreen&&s.isEnabled&&e.fullscreen();break;case"presenter":e.openPresenterView()}}})),e.parent.appendChild(t),e.on("activate",(({index:t})=>{n("page",(n=>n.textContent=`Page ${t+1} of ${e.slides.length}`))})),e.on("fragment",(({index:t,fragments:r,fragmentIndex:s})=>{n("prev",(e=>e.disabled=0===t&&0===s)),n("next",(n=>n.disabled=t===e.slides.length-1&&s===r.length-1))})),e.on("marp-active",(()=>t.removeAttribute("aria-hidden"))),e.on("marp-inactive",(()=>t.setAttribute("aria-hidden","true"))),s.isEnabled&&s.onchange((()=>n("fullscreen",(e=>e.classList.toggle("exit",s.isEnabled&&s.isFullscreen)))))}}function x(){const e=Math.max(Math.floor(.85*window.innerWidth),640),t=Math.max(Math.floor(.85*window.innerHeight),360);return window.open(this.presenterUrl,`bespoke-marp-presenter-${this.syncKey}`,`width=${e},height=${t},menubar=no,toolbar=no`)}function k(){const e=new URLSearchParams(location.search);return e.set("view","presenter"),e.set("sync",this.syncKey),h(e)}var E=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];let L=e=>String(e).replace(/[&<>"']/g,(e=>`&${S[e]};`)),S={"&":"amp","<":"lt",">":"gt",'"':"quot","'":"apos"},I="dangerouslySetInnerHTML",P={className:"class",htmlFor:"for"},M={};function N(e,t){let n=[],r="";t=t||{};for(let e=arguments.length;e-- >2;)n.push(arguments[e]);if("function"==typeof e)return t.children=n.reverse(),e(t);if(e){if(r+="<"+e,t)for(let e in t)!1!==t[e]&&null!=t[e]&&e!==I&&(r+=` ${P[e]?P[e]:L(e)}="${L(t[e])}"`);r+=">"}if(-1===E.indexOf(e)){if(t[I])r+=t[I].__html;else for(;n.length;){let e=n.pop();if(e)if(e.pop)for(let t=e.length;t--;)n.push(e[t]);else r+=!0===M[e]?e:L(e)}r+=e?`</${e}>`:""}return M[r]=!0,r}const F=({children:e})=>N(null,null,...e),$="bespoke-marp-presenter-container",O="bespoke-marp-presenter-next",q="bespoke-marp-presenter-next-container",C="bespoke-marp-presenter-note-container",T="bespoke-marp-presenter-info-container",A="bespoke-marp-presenter-info-page",K="bespoke-marp-presenter-info-page-text",j="bespoke-marp-presenter-info-page-prev",R="bespoke-marp-presenter-info-page-next",U="bespoke-marp-presenter-info-time",D="bespoke-marp-presenter-info-timer";function V(e){const{title:t}=document;document.title="[Presenter view]"+(t?` - ${t}`:"");const n={},r=e=>(n[e]=n[e]||document.querySelector(`.${e}`),n[e]);document.body.appendChild((e=>{const t=document.createElement("div");return t.className=$,t.appendChild(e),t.insertAdjacentHTML("beforeend",N(F,null,N("div",{class:q},N("iframe",{class:O,src:"?view=next"})),N("div",{class:C}),N("div",{class:T},N("div",{class:A},N("button",{class:j,tabindex:"-1",title:"Previous"},"Previous"),N("span",{class:K}),N("button",{class:R,tabindex:"-1",title:"Next"},"Next")),N("time",{class:U,title:"Current time"}),N("div",{class:D})))),t})(e.parent)),(e=>{r(q).addEventListener("click",(()=>e.next()));const t=r(O),n=(s=t,(e,t)=>{var n;return null===(n=s.contentWindow)||void 0===n?void 0:n.postMessage(`navigate:${e},${t}`,"null"===window.origin?"*":window.origin)});var s;t.addEventListener("load",(()=>{r(q).classList.add("active"),n(e.slide(),e.fragmentIndex),e.on("fragment",(({index:e,fragmentIndex:t})=>n(e,t)))}));const a=document.querySelectorAll(".bespoke-marp-note");a.forEach((e=>{e.addEventListener("keydown",(e=>e.stopPropagation())),r(C).appendChild(e)})),e.on("activate",(()=>a.forEach((t=>t.classList.toggle("active",t.dataset.index==e.slide()))))),e.on("activate",(({index:t})=>{r(K).textContent=`${t+1} / ${e.slides.length}`}));const i=r(j),o=r(R);i.addEventListener("click",(t=>{i.blur(),e.prev({fragment:!t.shiftKey})})),o.addEventListener("click",(t=>{o.blur(),e.next({fragment:!t.shiftKey})})),e.on("fragment",(({index:t,fragments:n,fragmentIndex:r})=>{i.disabled=0===t&&0===r,o.disabled=t===e.slides.length-1&&r===n.length-1}));const l=()=>r(U).textContent=(new Date).toLocaleTimeString();l(),setInterval(l,250)})(e)}function X(e){const t=g();return t===p.Next&&e.appendChild(document.createElement("span")),e=>{t===p.Normal&&function(e){if(!(e=>e.syncKey&&"string"==typeof e.syncKey)(e))throw new Error("The current instance of Bespoke.js is invalid for Marp bespoke presenter plugin.");Object.defineProperties(e,{openPresenterView:{enumerable:!0,value:x},presenterUrl:{enumerable:!0,get:k}}),w.available&&document.addEventListener("keydown",(t=>{80!==t.which||t.altKey||t.ctrlKey||t.metaKey||(t.preventDefault(),e.openPresenterView())}))}(e),t===p.Presenter&&V(e),t===p.Next&&function(e){const t=t=>{if(t.origin!==window.origin)return;const[n,r]=t.data.split(":");if("navigate"===n){const[t,n]=r.split(",");let s=Number.parseInt(t,10),a=Number.parseInt(n,10)+1;a>=e.fragments[s].length&&(s+=1,a=0),e.slide(s,{fragment:a})}};window.addEventListener("message",t),e.on("destroy",(()=>window.removeEventListener("message",t)))}(e)}}function Y(e){e.on("activate",(t=>{document.querySelectorAll(".bespoke-progress-parent > .bespoke-progress-bar").forEach((n=>{n.style.flexBasis=100*t.index/(e.slides.length-1)+"%"}))}))}const B=e=>{const t=Number.parseInt(e,10);return Number.isNaN(t)?null:t};function z(e={}){const t=Object.assign({history:!0},e);return e=>{let n=!0;const r=e=>{const t=n;try{return n=!0,e()}finally{n=t}},s=(t={fragment:!0})=>{((t,n)=>{const{fragments:r,slides:s}=e,a=Math.max(0,Math.min(t,s.length-1)),i=Math.max(0,Math.min(n||0,r[a].length-1));a===e.slide()&&i===e.fragmentIndex||e.slide(a,{fragment:i})})((B(location.hash.slice(1))||1)-1,t.fragment?B(v("f")||""):null)};e.on("fragment",(({index:e,fragmentIndex:r})=>{n||b({f:0===r||r.toString()},{location:Object.assign(Object.assign({},location),{hash:`#${e+1}`}),setter:(...e)=>t.history?history.pushState(...e):history.replaceState(...e)})})),setTimeout((()=>{s(),window.addEventListener("hashchange",(()=>r((()=>{s({fragment:!1}),b({f:void 0})})))),window.addEventListener("popstate",(()=>{n||r((()=>s()))})),n=!1}),0)}}let H;function W(e={}){const t=e.key||((e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let r=63&n[e];t+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?"_":"-"}return t})(),n=`bespoke-marp-sync-${t}`,r=()=>{const e=w.get(n);return e?JSON.parse(e):Object.create(null)},s=e=>{const t=r(),s=Object.assign(Object.assign({},t),e(t));return w.set(n,JSON.stringify(s)),s};return s((e=>({reference:(e.reference||0)+1}))),e=>{Object.defineProperty(e,"syncKey",{value:t,enumerable:!0});let a=!0;setTimeout((()=>{e.on("fragment",(e=>{a&&s((()=>({index:e.index,fragmentIndex:e.fragmentIndex})))}))}),0),window.addEventListener("storage",(t=>{if(t.key===n&&t.oldValue&&t.newValue){const n=JSON.parse(t.oldValue),r=JSON.parse(t.newValue);if(n.index!==r.index||n.fragmentIndex!==r.fragmentIndex)try{a=!1,e.slide(r.index,{fragment:r.fragmentIndex})}finally{a=!0}}})),e.on("destroy",(()=>{const{reference:e}=r();void 0===e||e<=1?w.remove(n):s((()=>({reference:e-1})))}))}}function J({slope:e=Math.tan(-35*Math.PI/180),swipeThreshold:t=30}={}){return n=>{let r;const s=n.parent,a=e=>{const t=s.getBoundingClientRect();return{x:e.pageX-(t.left+t.right)/2,y:e.pageY-(t.top+t.bottom)/2}};s.addEventListener("touchstart",(e=>{r=1===e.touches.length?a(e.touches[0]):void 0}),{passive:!0}),s.addEventListener("touchmove",(e=>{if(r)if(1===e.touches.length){e.preventDefault();const t=a(e.touches[0]),n=t.x-r.x,s=t.y-r.y;r.delta=Math.sqrt(Math.pow(Math.abs(n),2)+Math.pow(Math.abs(s),2)),r.radian=Math.atan2(n,s)}else r=void 0})),s.addEventListener("touchend",(s=>{if(r){if(r.delta&&r.delta>=t&&r.radian){let t=r.radian-e;t=(t+Math.PI)%(2*Math.PI)-Math.PI,n[t<0?"next":"prev"](),s.stopPropagation()}r=void 0}}),{passive:!0})}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function _(e,t,n,r){return new(n||(n=Promise))((function(s,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))}const G=()=>(void 0===H&&(H="wakeLock"in navigator&&navigator.wakeLock),H),Q=()=>_(void 0,void 0,void 0,(function*(){const e=G();if(e)try{const t=yield e.request("screen");return t.addEventListener("release",(()=>{console.debug("[Marp CLI] Wake Lock was released")})),console.debug("[Marp CLI] Wake Lock is active"),t}catch(e){console.warn(e)}return null}));function Z(){return _(this,void 0,void 0,(function*(){if(!G())return;let e;const t=()=>{e&&"visible"===document.visibilityState&&Q()};return document.addEventListener("visibilitychange",t),document.addEventListener("fullscreenchange",t),e=yield Q(),e}))}const ee=[p.Normal,p.Presenter,p.Next];!function(r=document.getElementById("p")){document.body.setAttribute(m,(()=>{switch(v("view")){case"next":return p.Next;case"presenter":return p.Presenter;default:return p.Normal}})());const s=(e=>{const t=v(e);return b({[e]:void 0}),t})("sync")||void 0,o=!1,d=!0,f=e(r,((...e)=>{const t=ee.findIndex((e=>g()===e));if(t<0)throw new Error("Invalid view");return e.map((([e,n])=>e[t]&&n)).filter((e=>e))})([[d,d,o],W({key:s})],[[d,d,d],X(r)],[[d,d,o],l],[[d,d,d],t],[[d,o,o],i()],[[d,d,d],c],[[d,d,d],z({history:!1})],[[d,d,o],u()],[[d,d,o],a],[[d,o,o],Y],[[d,d,o],J()],[[d,o,o],y()],[[d,d,d],n],[[d,d,o],Z]));window.addEventListener("beforeunload",(()=>b({sync:f.syncKey}))),window.addEventListener("unload",(()=>f.destroy()))}()}();</script></body></html>